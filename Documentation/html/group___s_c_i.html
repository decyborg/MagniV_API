<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.10"/>
<title>MagniV API: Serial Communication interface</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">MagniV API
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.10 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
</div><!-- top -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#groups">Modules</a> &#124;
<a href="#files">Files</a> &#124;
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">Serial Communication interface</div>  </div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="groups"></a>
Modules</h2></td></tr>
<tr class="memitem:group___core"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___core.html">Core API functions</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="files"></a>
Files</h2></td></tr>
<tr class="memitem:sci_8c"><td class="memItemLeft" align="right" valign="top">file &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sci_8c.html">sci.c</a></td></tr>
<tr class="memdesc:sci_8c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Contains serial communication interface API routines for MagniV devices. <br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:sci_8h"><td class="memItemLeft" align="right" valign="top">file &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sci_8h.html">sci.h</a></td></tr>
<tr class="memdesc:sci_8h"><td class="mdescLeft">&#160;</td><td class="mdescRight">Contains Serial communication interface API routines for MagniV devices. <br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">union &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="unionu_s_c_i_b_d_h.html">uSCIBDH</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">SCI Baud Rate Register.  <a href="unionu_s_c_i_b_d_h.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">union &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="unionu_s_c_i_b_d_l.html">uSCIBDL</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">union &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="unionu_s_c_i_c_r1.html">uSCICR1</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">SCI Control Register 1.  <a href="unionu_s_c_i_c_r1.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">union &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="unionu_s_c_i_c_r2.html">uSCICR2</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">union &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="unionu_s_c_i_s_r1.html">uSCISR1</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">SCI Status Register 1.  <a href="unionu_s_c_i_s_r1.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">union &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="unionu_s_c_i_s_r2.html">uSCISR2</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">SCI status register 2.  <a href="unionu_s_c_i_s_r2.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">union &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="unionu_s_c_i_d_r_h.html">uSCIDRH</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">SCI Data Register hight.  <a href="unionu_s_c_i_d_r_h.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structt_s_c_i.html">tSCI</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">sci datastructure  <a href="structt_s_c_i.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:ga2186deba9908cf956ca92653e2e711c3"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ga2186deba9908cf956ca92653e2e711c3"></a>
typedef union <a class="el" href="unionu_s_c_i_b_d_h.html">uSCIBDH</a>&#160;</td><td class="memItemRight" valign="bottom"><b>tSCIBDH</b></td></tr>
<tr class="separator:ga2186deba9908cf956ca92653e2e711c3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga43f07c63ea9dd6158a39779a9c7d21e0"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ga43f07c63ea9dd6158a39779a9c7d21e0"></a>
typedef union <a class="el" href="unionu_s_c_i_b_d_l.html">uSCIBDL</a>&#160;</td><td class="memItemRight" valign="bottom"><b>tSCIBDL</b></td></tr>
<tr class="separator:ga43f07c63ea9dd6158a39779a9c7d21e0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gae7317c0704d4e2aaa1f185643c51bf7d"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="gae7317c0704d4e2aaa1f185643c51bf7d"></a>
typedef union <a class="el" href="unionu_s_c_i_c_r1.html">uSCICR1</a>&#160;</td><td class="memItemRight" valign="bottom"><b>tSCICR1</b></td></tr>
<tr class="separator:gae7317c0704d4e2aaa1f185643c51bf7d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga91aaad8bf881afa664e929f2163aa642"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ga91aaad8bf881afa664e929f2163aa642"></a>
typedef union <a class="el" href="unionu_s_c_i_c_r2.html">uSCICR2</a>&#160;</td><td class="memItemRight" valign="bottom"><b>tSCICR2</b></td></tr>
<tr class="separator:ga91aaad8bf881afa664e929f2163aa642"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga89d81dc3cd745d626c4ccd5efc52536a"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ga89d81dc3cd745d626c4ccd5efc52536a"></a>
typedef union <a class="el" href="unionu_s_c_i_s_r1.html">uSCISR1</a>&#160;</td><td class="memItemRight" valign="bottom"><b>tSCISR1</b></td></tr>
<tr class="separator:ga89d81dc3cd745d626c4ccd5efc52536a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga177681411eee90bc998e93d194412e9e"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ga177681411eee90bc998e93d194412e9e"></a>
typedef union <a class="el" href="unionu_s_c_i_s_r2.html">uSCISR2</a>&#160;</td><td class="memItemRight" valign="bottom"><b>tSCISR2</b></td></tr>
<tr class="separator:ga177681411eee90bc998e93d194412e9e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaa0ddb59c32ff3ab4cd3b2b87f0367225"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="gaa0ddb59c32ff3ab4cd3b2b87f0367225"></a>
typedef union <a class="el" href="unionu_s_c_i_d_r_h.html">uSCIDRH</a>&#160;</td><td class="memItemRight" valign="bottom"><b>tSCIDRH</b></td></tr>
<tr class="separator:gaa0ddb59c32ff3ab4cd3b2b87f0367225"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ga5064f416c84236092cef3147fe0036c1"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___s_c_i.html#ga5064f416c84236092cef3147fe0036c1">sci_init</a> (unsigned long baudrate, unsigned long bus_frequency, unsigned int sci_channel)</td></tr>
<tr class="memdesc:ga5064f416c84236092cef3147fe0036c1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initializes the SCI interface to the desired baudrate.  <a href="#ga5064f416c84236092cef3147fe0036c1">More...</a><br /></td></tr>
<tr class="separator:ga5064f416c84236092cef3147fe0036c1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga487c3bdee8a71648e5133e7104f2bddf"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___s_c_i.html#ga487c3bdee8a71648e5133e7104f2bddf">put_char</a> (char character, unsigned int sci_channel)</td></tr>
<tr class="memdesc:ga487c3bdee8a71648e5133e7104f2bddf"><td class="mdescLeft">&#160;</td><td class="mdescRight">Send a character through the selected SCI channel.  <a href="#ga487c3bdee8a71648e5133e7104f2bddf">More...</a><br /></td></tr>
<tr class="separator:ga487c3bdee8a71648e5133e7104f2bddf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga0b72a0d9b0c7a786c00aec3b91cf0e30"><td class="memItemLeft" align="right" valign="top">char&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___s_c_i.html#ga0b72a0d9b0c7a786c00aec3b91cf0e30">get_char</a> (unsigned int sci_channel)</td></tr>
<tr class="memdesc:ga0b72a0d9b0c7a786c00aec3b91cf0e30"><td class="mdescLeft">&#160;</td><td class="mdescRight">Function that waits until a character is received through the selected SCI channel.  <a href="#ga0b72a0d9b0c7a786c00aec3b91cf0e30">More...</a><br /></td></tr>
<tr class="separator:ga0b72a0d9b0c7a786c00aec3b91cf0e30"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga9df467e6c221f71bbc6080694cc5c67c"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___s_c_i.html#ga9df467e6c221f71bbc6080694cc5c67c">send_string</a> (char string[], unsigned int sci_channel)</td></tr>
<tr class="memdesc:ga9df467e6c221f71bbc6080694cc5c67c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sends a string through the desired channel.  <a href="#ga9df467e6c221f71bbc6080694cc5c67c">More...</a><br /></td></tr>
<tr class="separator:ga9df467e6c221f71bbc6080694cc5c67c"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="ga0b72a0d9b0c7a786c00aec3b91cf0e30"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">char get_char </td>
          <td>(</td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>sci_channel</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Function that waits until a character is received through the selected SCI channel. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">sci_channel</td><td>SCI channel that will receive the character </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Value of the received character </dd></dl>

</div>
</div>
<a class="anchor" id="ga487c3bdee8a71648e5133e7104f2bddf"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void put_char </td>
          <td>(</td>
          <td class="paramtype">char&#160;</td>
          <td class="paramname"><em>character</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>sci_channel</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Send a character through the selected SCI channel. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">character</td><td>Character to be send </td></tr>
    <tr><td class="paramname">sci_channel</td><td>SCI channel that will send the character </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ga5064f416c84236092cef3147fe0036c1"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void sci_init </td>
          <td>(</td>
          <td class="paramtype">unsigned long&#160;</td>
          <td class="paramname"><em>baudrate</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned long&#160;</td>
          <td class="paramname"><em>bus_frequency</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>sci_channel</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initializes the SCI interface to the desired baudrate. </p>
<p>This function initializes the desired SCI channel to the desired baudrate. It must be called after the bus clock has been set, since it uses the bus frequency to set the baudrate. The number of SCI channels is derivative dependent. Simply type SCIx, where x is the channel you would like to use e.g. SCI0 for channel 0. If the channel to be used is the one routed to the LINPHY only, it modifies the register to route the channel to external pins.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">baudrate</td><td>Desired baudrate </td></tr>
    <tr><td class="paramname">bus_frequency</td><td>Bus frequency at which the device is working </td></tr>
    <tr><td class="paramname">sci_channel</td><td>SCI channel to be used </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ga9df467e6c221f71bbc6080694cc5c67c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void send_string </td>
          <td>(</td>
          <td class="paramtype">char&#160;</td>
          <td class="paramname"><em>string</em>[], </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>sci_channel</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Sends a string through the desired channel. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">string</td><td>String to be send </td></tr>
    <tr><td class="paramname">sci_channel</td><td>SCI channel through which the string will be sent </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.10
</small></address>
</body>
</html>
