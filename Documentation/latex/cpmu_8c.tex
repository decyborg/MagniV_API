\hypertarget{cpmu_8c}{}\section{C\+:/\+Users/b52932/\+Documents/\+Magni\+V\+\_\+\+A\+P\+I/\+Magni\+V\+\_\+\+A\+P\+I/\+Sources/\+Magni\+V\+\_\+\+A\+P\+I/\+C\+P\+M\+U/cpmu.c File Reference}
\label{cpmu_8c}\index{C\+:/\+Users/b52932/\+Documents/\+Magni\+V\+\_\+\+A\+P\+I/\+Magni\+V\+\_\+\+A\+P\+I/\+Sources/\+Magni\+V\+\_\+\+A\+P\+I/\+C\+P\+M\+U/cpmu.\+c@{C\+:/\+Users/b52932/\+Documents/\+Magni\+V\+\_\+\+A\+P\+I/\+Magni\+V\+\_\+\+A\+P\+I/\+Sources/\+Magni\+V\+\_\+\+A\+P\+I/\+C\+P\+M\+U/cpmu.\+c}}


Contains Clock and power management unit A\+P\+I routines for Magni\+V devices.  


{\ttfamily \#include \char`\"{}cpmu.\+h\char`\"{}}\\*
\subsection*{Functions}
\begin{DoxyCompactItemize}
\item 
void \hyperlink{cpmu_8c_aad29837daff06258028589fec8d69f31}{clock\+\_\+init} (unsigned long Bus\+Clock)
\begin{DoxyCompactList}\small\item\em Initializes the Bus clock at the desired speed using the internal oscillator. \end{DoxyCompactList}\item 
void \hyperlink{cpmu_8c_a6c78aff94957c5e31bca34b4fd427844}{clock\+\_\+init\+\_\+ext} (unsigned long Bus\+Clock, unsigned long Ext\+Freq)
\begin{DoxyCompactList}\small\item\em Initializes the Bus clock at the desired speed using an external oscillator. \end{DoxyCompactList}\item 
\hyperlink{structclock__dividers}{clock\+\_\+dividers} \hyperlink{cpmu_8c_ab1ca661150fc5676794ddf0cca50ce8d}{calc\+\_\+prs} (unsigned long F\+P\+L\+L, unsigned char Ext\+Clock, unsigned long Ext\+Freq)
\begin{DoxyCompactList}\small\item\em Calculate the prescaler values for the corresponding bus frequency. \end{DoxyCompactList}\item 
void \hyperlink{cpmu_8c_a97250687e8ce6c1f1c893c93766afe1c}{set\+\_\+clock} (\hyperlink{structclock__dividers}{clock\+\_\+dividers} Clock\+Config, unsigned char Ext\+Clock)
\begin{DoxyCompactList}\small\item\em Set the clock registers. \end{DoxyCompactList}\end{DoxyCompactItemize}


\subsection{Detailed Description}
Contains Clock and power management unit A\+P\+I routines for Magni\+V devices. 

\begin{DoxyAuthor}{Author}
Manuel Rodriguez 
\end{DoxyAuthor}


\subsection{Function Documentation}
\hypertarget{cpmu_8c_ab1ca661150fc5676794ddf0cca50ce8d}{}\index{cpmu.\+c@{cpmu.\+c}!calc\+\_\+prs@{calc\+\_\+prs}}
\index{calc\+\_\+prs@{calc\+\_\+prs}!cpmu.\+c@{cpmu.\+c}}
\subsubsection[{calc\+\_\+prs(unsigned long F\+P\+L\+L, unsigned char Ext\+Clock, unsigned long Ext\+Freq)}]{\setlength{\rightskip}{0pt plus 5cm}{\bf clock\+\_\+dividers} calc\+\_\+prs (
\begin{DoxyParamCaption}
\item[{unsigned long}]{F\+P\+L\+L, }
\item[{unsigned char}]{Ext\+Clock, }
\item[{unsigned long}]{Ext\+Freq}
\end{DoxyParamCaption}
)}\label{cpmu_8c_ab1ca661150fc5676794ddf0cca50ce8d}


Calculate the prescaler values for the corresponding bus frequency. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em F\+P\+L\+L} & Desired P\+L\+L frequency (bus frequency $\ast$ 2) in hertz \\
\hline
\mbox{\tt in}  & {\em Ext\+Clock} & If an External oscillator is being used set this variable to T\+R\+U\+E (1) otherwise set to F\+A\+L\+S\+E (0) \\
\hline
\mbox{\tt in}  & {\em Ext\+Freq} & If an oscillator is being used pass the frequency of the oscillator, otherwise pass F\+A\+L\+S\+E (0)\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
A structure with the values of the prescalers 
\end{DoxyReturn}
\hypertarget{cpmu_8c_aad29837daff06258028589fec8d69f31}{}\index{cpmu.\+c@{cpmu.\+c}!clock\+\_\+init@{clock\+\_\+init}}
\index{clock\+\_\+init@{clock\+\_\+init}!cpmu.\+c@{cpmu.\+c}}
\subsubsection[{clock\+\_\+init(unsigned long Bus\+Clock)}]{\setlength{\rightskip}{0pt plus 5cm}void clock\+\_\+init (
\begin{DoxyParamCaption}
\item[{unsigned long}]{Bus\+Clock}
\end{DoxyParamCaption}
)}\label{cpmu_8c_aad29837daff06258028589fec8d69f31}


Initializes the Bus clock at the desired speed using the internal oscillator. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em Bus\+Clock} & Desired Bus Clock Frequency in hertz \\
\hline
\end{DoxyParams}
\hypertarget{cpmu_8c_a6c78aff94957c5e31bca34b4fd427844}{}\index{cpmu.\+c@{cpmu.\+c}!clock\+\_\+init\+\_\+ext@{clock\+\_\+init\+\_\+ext}}
\index{clock\+\_\+init\+\_\+ext@{clock\+\_\+init\+\_\+ext}!cpmu.\+c@{cpmu.\+c}}
\subsubsection[{clock\+\_\+init\+\_\+ext(unsigned long Bus\+Clock, unsigned long Ext\+Freq)}]{\setlength{\rightskip}{0pt plus 5cm}void clock\+\_\+init\+\_\+ext (
\begin{DoxyParamCaption}
\item[{unsigned long}]{Bus\+Clock, }
\item[{unsigned long}]{Ext\+Freq}
\end{DoxyParamCaption}
)}\label{cpmu_8c_a6c78aff94957c5e31bca34b4fd427844}


Initializes the Bus clock at the desired speed using an external oscillator. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em Bus\+Clock} & Desired Bus Clock Frequency in hertz \\
\hline
\mbox{\tt in}  & {\em Ext\+Freq} & Frequency of the external oscillator \\
\hline
\end{DoxyParams}
\hypertarget{cpmu_8c_a97250687e8ce6c1f1c893c93766afe1c}{}\index{cpmu.\+c@{cpmu.\+c}!set\+\_\+clock@{set\+\_\+clock}}
\index{set\+\_\+clock@{set\+\_\+clock}!cpmu.\+c@{cpmu.\+c}}
\subsubsection[{set\+\_\+clock(clock\+\_\+dividers Clock\+Config, unsigned char Ext\+Clock)}]{\setlength{\rightskip}{0pt plus 5cm}void set\+\_\+clock (
\begin{DoxyParamCaption}
\item[{{\bf clock\+\_\+dividers}}]{Clock\+Config, }
\item[{unsigned char}]{Ext\+Clock}
\end{DoxyParamCaption}
)}\label{cpmu_8c_a97250687e8ce6c1f1c893c93766afe1c}


Set the clock registers. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em Clock\+Config} & Holds the prescaler values to configure the clock \\
\hline
\mbox{\tt in}  & {\em Ext\+Clock} & If an External oscillator is being used set this variable to T\+R\+U\+E (1) otherwise set to F\+A\+L\+S\+E (0) \\
\hline
\end{DoxyParams}
